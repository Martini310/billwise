FROM koyeb/docker-compose

ARG CALLBACK_URL
ARG GOOGLE_CLIENT
ARG GOOGLE_CLIENT_ID
ARG GOOGLE_CLIENT_SECRET
ARG GOOGLE_SECRET
ARG JWT_SECRET_KEY
ARG LOGIN_REDIRECT_URL
ARG NEXTAUTH_BACKEND_URL
ARG NEXTAUTH_SECRET
ARG NEXTAUTH_URL
ARG NEXT_PUBLIC_URL
ARG SECRET_KEY
ARG SITE_ID

COPY . /app

# Install Git
RUN apk add --no-cache git

# Run Docker Compose using the compose file in /app
CMD ["docker-compose", "-f", "/app/docker-compose.yaml", "up"]